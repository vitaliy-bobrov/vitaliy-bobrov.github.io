this.goog=this.goog||{},this.goog.offlineGoogleAnalytics=function(){"use strict";function a(){return"ServiceWorkerGlobalScope"in self&&self instanceof ServiceWorkerGlobalScope}var i={CACHE_NAME:"offline-google-analytics",IDB:{NAME:"offline-google-analytics",STORE:"urls",VERSION:1},MAX_ANALYTICS_BATCH_SIZE:20,STOP_RETRYING_AFTER:1728e5,URL:{ANALYTICS_JS_PATH:"/analytics.js",COLLECT_PATH:"/collect",HOST:"www.google-analytics.com"}},b=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(p){(function(){function a(a){return Array.prototype.slice.call(a)}function b(a){return new Promise(function(b,c){a.onsuccess=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function c(a,c,d){var e,f=new Promise(function(f,g){e=a[c].apply(a,d),b(e).then(f,g)});return f.request=e,f}function d(a,b,d){var e=c(a,b,d);return e.then(function(a){return a?new j(a,e.request):void 0})}function e(a,b,c){c.forEach(function(c){Object.defineProperty(a.prototype,c,{get:function(){return this[b][c]},set:function(a){this[b][c]=a}})})}function f(a,b,d,e){e.forEach(function(e){e in d.prototype&&(a.prototype[e]=function(){return c(this[b],e,arguments)})})}function g(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return this[b][d].apply(this[b],arguments)})})}function h(a,b,c,e){e.forEach(function(e){e in c.prototype&&(a.prototype[e]=function(){return d(this[b],e,arguments)})})}function i(a){this._index=a}function j(a,b){this._cursor=a,this._request=b}function k(a){this._store=a}function l(a){this._tx=a,this.complete=new Promise(function(b,c){a.oncomplete=function(){b()},a.onerror=function(){c(a.error)},a.onabort=function(){c(a.error)}})}function m(a,b,c){this._db=a,this.oldVersion=b,this.transaction=new l(c)}function n(a){this._db=a}e(i,"_index",["name","keyPath","multiEntry","unique"]),f(i,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),h(i,"_index",IDBIndex,["openCursor","openKeyCursor"]),e(j,"_cursor",["direction","key","primaryKey","value"]),f(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(j.prototype[a]=function(){var c=this,d=arguments;return Promise.resolve().then(function(){return c._cursor[a].apply(c._cursor,d),b(c._request).then(function(a){return a?new j(a,c._request):void 0})})})}),k.prototype.createIndex=function(){return new i(this._store.createIndex.apply(this._store,arguments))},k.prototype.index=function(){return new i(this._store.index.apply(this._store,arguments))},e(k,"_store",["name","keyPath","indexNames","autoIncrement"]),f(k,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),h(k,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),g(k,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new k(this._tx.objectStore.apply(this._tx,arguments))},e(l,"_tx",["objectStoreNames","mode"]),g(l,"_tx",IDBTransaction,["abort"]),m.prototype.createObjectStore=function(){return new k(this._db.createObjectStore.apply(this._db,arguments))},e(m,"_db",["name","version","objectStoreNames"]),g(m,"_db",IDBDatabase,["deleteObjectStore","close"]),n.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},e(n,"_db",["name","version","objectStoreNames"]),g(n,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(b){[k,i].forEach(function(c){c.prototype[b.replace("open","iterate")]=function(){var c=a(arguments),d=c[c.length-1],e=this._store||this._index,f=e[b].apply(e,c.slice(0,-1));f.onsuccess=function(){d(f.result)}}})}),[i,k].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,b){var c=this,d=[];return new Promise(function(e){c.iterateCursor(a,function(a){return a?(d.push(a.value),void 0!==b&&d.length==b?void e(d):void a.continue()):void e(d)})})})});p.exports={open:function(a,b,d){var e=c(indexedDB,"open",[a,b]),f=e.request;return f.onupgradeneeded=function(a){d&&d(new m(f.result,a.oldVersion,f.transaction))},e.then(function(a){return new n(a)})},delete:function(a){return c(indexedDB,"deleteDatabase",[a])}},p.exports.default=p.exports})()});class c{constructor(d,a,b){if(null==d||null==a||null==b)throw Error("name, version, storeName must be passed to the constructor.");this._name=d,this._version=a,this._storeName=b}_getDb(){return this._dbPromise?this._dbPromise:(this._dbPromise=b.open(this._name,this._version,b=>{b.createObjectStore(this._storeName)}).then(b=>b),this._dbPromise)}close(){return this._dbPromise?this._dbPromise.then(b=>{b.close(),this._dbPromise=null}):void 0}put(f,a){return this._getDb().then(b=>{const c=b.transaction(this._storeName,"readwrite"),d=c.objectStore(this._storeName);return d.put(a,f),c.complete})}delete(e){return this._getDb().then(a=>{const b=a.transaction(this._storeName,"readwrite"),c=b.objectStore(this._storeName);return c.delete(e),b.complete})}get(c){return this._getDb().then(a=>a.transaction(this._storeName).objectStore(this._storeName).get(c))}getAllValues(){return this._getDb().then(b=>b.transaction(this._storeName).objectStore(this._storeName).getAll())}getAllKeys(){return this._getDb().then(b=>b.transaction(this._storeName).objectStore(this._storeName).getAllKeys())}}const e=new c(i.IDB.NAME,i.IDB.VERSION,i.IDB.STORE);var d=(d,a)=>{const b=new URL(d.url);return d.text().then(c=>(c&&(b.search=c),e.put(b.toString(),a||Date.now())))};class f{constructor({title:c,isPrimary:a}={}){this._isPrimary=a||!1,this._groupTitle=c||"",this._logs=[],this._childGroups=[],this._isFirefox=!1,/Firefox\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isFirefox=!0),this._isEdge=!1,/Edge\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isEdge=!0)}addLog(b){this._logs.push(b)}addChildGroup(b){0===b._logs.length||this._childGroups.push(b)}print(){return this._isEdge?void this._printEdgeFriendly():void(this._openGroup(),this._logs.forEach(b=>{this._printLogDetails(b)}),this._childGroups.forEach(b=>{b.print()}),this._closeGroup())}_printEdgeFriendly(){this._logs.forEach(b=>{let a=b.message;"string"==typeof a&&(a=a.replace(/%c/g,""));const f=[a];b.error&&f.push(b.error),b.args&&f.push(b.args);const d=b.logFunc||console.log;d(...f)}),this._childGroups.forEach(b=>{b.print()})}_printLogDetails(e){const a=e.logFunc?e.logFunc:console.log;let b=e.message,c=[b];e.colors&&!this._isEdge&&(c=c.concat(e.colors)),e.args&&(c=c.concat(e.args)),a(...c)}_openGroup(){if(this._isPrimary){if(0===this._childGroups.length)return;const b=this._logs.shift();if(this._isFirefox)return void this._printLogDetails(b);b.logFunc=console.group,this._printLogDetails(b)}else console.groupCollapsed(this._groupTitle)}_closeGroup(){this._isPrimary&&0===this._childGroups.length||console.groupEnd()}}var g={isDevBuild:function(){return!1},isLocalhost:function(){return!!("localhost"===location.hostname||"[::1]"===location.hostname||location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},isServiceWorkerGlobalScope:a};self.goog=self.goog||{},self.goog.LOG_LEVEL=self.goog.LOG_LEVEL||{none:-1,verbose:0,debug:1,warn:2,error:3};const h=`#bdc3c7`;var j=new class{constructor(){this._defaultLogLevel=g.isDevBuild()?self.goog.LOG_LEVEL.debug:self.goog.LOG_LEVEL.warn}log(b){this._printMessage(self.goog.LOG_LEVEL.verbose,b)}debug(b){this._printMessage(self.goog.LOG_LEVEL.debug,b)}warn(b){this._printMessage(self.goog.LOG_LEVEL.warn,b)}error(b){this._printMessage(self.goog.LOG_LEVEL.error,b)}_printMessage(d,a){if(this._shouldLogMessage(d,a)){const b=this._getAllLogGroups(d,a);b.print()}}_getAllLogGroups(g,a){const b=new f({isPrimary:!0,title:"sw-helpers log."}),c=this._getPrimaryMessageDetails(g,a);if(b.addLog(c),a.error){const c={message:a.error,logFunc:console.error};b.addLog(c)}const d=new f({title:"Extra Information."});if(a.that&&a.that.constructor&&a.that.constructor.name){const b=a.that.constructor.name;d.addLog(this._getKeyValueDetails("class",b))}return a.data&&("object"!=typeof a.data||a.data instanceof Array?d.addLog(this._getKeyValueDetails("additionalData",a.data)):Object.keys(a.data).forEach(b=>{d.addLog(this._getKeyValueDetails(b,a.data[b]))})),b.addChildGroup(d),b}_getKeyValueDetails(c,a){return{message:`%c${c}: `,colors:[`color: ${`#3498db`}`],args:a}}_getPrimaryMessageDetails(i,a){let b,j;i===self.goog.LOG_LEVEL.verbose?(b="Info",j=h):i===self.goog.LOG_LEVEL.debug?(b="Debug",j=`#2ecc71`):i===self.goog.LOG_LEVEL.warn?(b="Warn",j=`#f1c40f`):i===self.goog.LOG_LEVEL.error?(b="Error",j=`#e74c3c`):void 0;let k=`%cðŸ”§ %c[${b}]`;const l=[`color: ${h}`,`color: ${j}`];let f;return"string"==typeof a?f=a:a.message&&(f=a.message),f&&(f=f.replace(/\s+/g," "),k+=`%c ${f}`,l.push(`color: ${`#7f8c8d`}; font-weight: normal`)),{message:k,colors:l}}_shouldLogMessage(d,a){if(!a)return!1;let b=this._defaultLogLevel;return self&&self.goog&&"number"==typeof self.goog.logLevel&&(b=self.goog.logLevel),!(b===self.goog.LOG_LEVEL.none||d<b)}};const k=new c(i.IDB.NAME,i.IDB.VERSION,i.IDB.STORE);var l=b=>(b=b||{},k.getAllKeys().then(a=>Promise.all(a.map(a=>k.get(a).then(c=>{const d=Date.now()-c,e=new URL(a);if(d>i.STOP_RETRYING_AFTER)return;if(!("searchParams"in e))return;let f=b.parameterOverrides||{};f.qt=d,Object.keys(f).sort().forEach(a=>{e.searchParams.set(a,f[a])});let g=b.hitFilter;if("function"==typeof g)try{g(e.searchParams)}catch(a){return}return fetch(e.toString())}).then(()=>k.delete(a))))));return{initialize:c=>{c=c||{};let e=!1;self.addEventListener("fetch",a=>{const b=new URL(a.request.url),h=a.request;if(b.hostname===i.URL.HOST)if(b.pathname===i.URL.COLLECT_PATH){const b=h.clone();a.respondWith(fetch(h).then(a=>(e&&l(c),e=!1,a),()=>(j.log("Enqueuing failed request..."),e=!0,d(b).then(()=>Response.error()))))}else b.pathname===i.URL.ANALYTICS_JS_PATH&&a.respondWith(caches.open(i.CACHE_NAME).then(a=>fetch(h).then(b=>a.put(h,b.clone()).then(()=>b)).catch(b=>(j.error(b),a.match(h)))))}),l(c)}}}();