this.goog=this.goog||{},this.goog.offlineGoogleAnalytics=function(){"use strict";function a(){return"ServiceWorkerGlobalScope"in self&&self instanceof ServiceWorkerGlobalScope}var i={CACHE_NAME:"offline-google-analytics",IDB:{NAME:"offline-google-analytics",STORE:"urls",VERSION:1},MAX_ANALYTICS_BATCH_SIZE:20,STOP_RETRYING_AFTER:1728e5,URL:{ANALYTICS_JS_PATH:"/analytics.js",COLLECT_PATH:"/collect",HOST:"www.google-analytics.com"}},b=function(a,b){return b={exports:{}},a(b,b.exports),b.exports}(function(p){(function(){function a(a){return Array.prototype.slice.call(a)}function b(a){return new Promise(function(b,c){a.onsuccess=function(){b(a.result)},a.onerror=function(){c(a.error)}})}function c(a,c,d){var e,f=new Promise(function(f,g){e=a[c].apply(a,d),b(e).then(f,g)});return f.request=e,f}function d(a,b,d){var e=c(a,b,d);return e.then(function(a){return a?new j(a,e.request):void 0})}function e(a,b,c){c.forEach(function(c){Object.defineProperty(a.prototype,c,{get:function a(){return this[b][c]},set:function d(a){this[b][c]=a}})})}function f(a,b,d,e){e.forEach(function(e){e in d.prototype&&(a.prototype[e]=function(){return c(this[b],e,arguments)})})}function g(a,b,c,d){d.forEach(function(d){d in c.prototype&&(a.prototype[d]=function(){return this[b][d].apply(this[b],arguments)})})}function h(a,b,c,e){e.forEach(function(e){e in c.prototype&&(a.prototype[e]=function(){return d(this[b],e,arguments)})})}function i(a){this._index=a}function j(a,b){this._cursor=a,this._request=b}function k(a){this._store=a}function l(a){this._tx=a,this.complete=new Promise(function(b,c){a.oncomplete=function(){b()},a.onerror=function(){c(a.error)},a.onabort=function(){c(a.error)}})}function m(a,b,c){this._db=a,this.oldVersion=b,this.transaction=new l(c)}function n(a){this._db=a}e(i,"_index",["name","keyPath","multiEntry","unique"]),f(i,"_index",IDBIndex,["get","getKey","getAll","getAllKeys","count"]),h(i,"_index",IDBIndex,["openCursor","openKeyCursor"]),e(j,"_cursor",["direction","key","primaryKey","value"]),f(j,"_cursor",IDBCursor,["update","delete"]),["advance","continue","continuePrimaryKey"].forEach(function(a){a in IDBCursor.prototype&&(j.prototype[a]=function(){var c=this,d=arguments;return Promise.resolve().then(function(){return c._cursor[a].apply(c._cursor,d),b(c._request).then(function(a){return a?new j(a,c._request):void 0})})})}),k.prototype.createIndex=function(){return new i(this._store.createIndex.apply(this._store,arguments))},k.prototype.index=function(){return new i(this._store.index.apply(this._store,arguments))},e(k,"_store",["name","keyPath","indexNames","autoIncrement"]),f(k,"_store",IDBObjectStore,["put","add","delete","clear","get","getAll","getKey","getAllKeys","count"]),h(k,"_store",IDBObjectStore,["openCursor","openKeyCursor"]),g(k,"_store",IDBObjectStore,["deleteIndex"]),l.prototype.objectStore=function(){return new k(this._tx.objectStore.apply(this._tx,arguments))},e(l,"_tx",["objectStoreNames","mode"]),g(l,"_tx",IDBTransaction,["abort"]),m.prototype.createObjectStore=function(){return new k(this._db.createObjectStore.apply(this._db,arguments))},e(m,"_db",["name","version","objectStoreNames"]),g(m,"_db",IDBDatabase,["deleteObjectStore","close"]),n.prototype.transaction=function(){return new l(this._db.transaction.apply(this._db,arguments))},e(n,"_db",["name","version","objectStoreNames"]),g(n,"_db",IDBDatabase,["close"]),["openCursor","openKeyCursor"].forEach(function(b){[k,i].forEach(function(c){c.prototype[b.replace("open","iterate")]=function(){var c=a(arguments),d=c[c.length-1],e=this._store||this._index,f=e[b].apply(e,c.slice(0,-1));f.onsuccess=function(){d(f.result)}}})}),[i,k].forEach(function(a){a.prototype.getAll||(a.prototype.getAll=function(a,b){var c=this,d=[];return new Promise(function(e){c.iterateCursor(a,function(a){return a?(d.push(a.value),void 0!==b&&d.length==b?void e(d):void a.continue()):void e(d)})})})});p.exports={open:function g(a,b,d){var e=c(indexedDB,"open",[a,b]),f=e.request;return f.onupgradeneeded=function(a){d&&d(new m(f.result,a.oldVersion,f.transaction))},e.then(function(a){return new n(a)})},delete:function b(a){return c(indexedDB,"deleteDatabase",[a])}},p.exports.default=p.exports})()}),c=function(){function a(d,a,b){if(null==d||null==a||null==b)throw Error("name, version, storeName must be passed to the constructor.");this._name=d,this._version=a,this._storeName=b}var c=a.prototype;return c._getDb=function a(){var c=this;return this._dbPromise?this._dbPromise:(this._dbPromise=b.open(this._name,this._version,function(b){b.createObjectStore(c._storeName)}).then(function(b){return b}),this._dbPromise)},c.close=function a(){var b=this;return this._dbPromise?this._dbPromise.then(function(c){c.close(),b._dbPromise=null}):void 0},c.put=function c(f,a){var b=this;return this._getDb().then(function(g){var c=g.transaction(b._storeName,"readwrite"),d=c.objectStore(b._storeName);return d.put(a,f),c.complete})},c.delete=function b(e){var a=this;return this._getDb().then(function(f){var b=f.transaction(a._storeName,"readwrite"),c=b.objectStore(a._storeName);return c.delete(e),b.complete})},c.get=function b(c){var a=this;return this._getDb().then(function(d){return d.transaction(a._storeName).objectStore(a._storeName).get(c)})},c.getAllValues=function a(){var b=this;return this._getDb().then(function(c){return c.transaction(b._storeName).objectStore(b._storeName).getAll()})},c.getAllKeys=function a(){var b=this;return this._getDb().then(function(c){return c.transaction(b._storeName).objectStore(b._storeName).getAllKeys()})},a}(),e=new c(i.IDB.NAME,i.IDB.VERSION,i.IDB.STORE),d=function(d,a){var b=new URL(d.url);return d.text().then(function(c){return c&&(b.search=c),e.put(b.toString(),a||Date.now())})},g=function(){function a(c){var d=void 0===c?{}:c,e=d.title,a=d.isPrimary;this._isPrimary=a||!1,this._groupTitle=e||"",this._logs=[],this._childGroups=[],this._isFirefox=!1,/Firefox\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isFirefox=!0),this._isEdge=!1,/Edge\/\d*\.\d*/.exec(navigator.userAgent)&&(this._isEdge=!0)}var b=a.prototype;return b.addLog=function a(b){this._logs.push(b)},b.addChildGroup=function a(b){0===b._logs.length||this._childGroups.push(b)},b.print=function a(){var b=this;return this._isEdge?void this._printEdgeFriendly():void(this._openGroup(),this._logs.forEach(function(c){b._printLogDetails(c)}),this._childGroups.forEach(function(b){b.print()}),this._closeGroup())},b._printEdgeFriendly=function a(){this._logs.forEach(function(b){var a=b.message;"string"==typeof a&&(a=a.replace(/%c/g,""));var f=[a];b.error&&f.push(b.error),b.args&&f.push(b.args);var d=b.logFunc||console.log;d.apply(void 0,f)}),this._childGroups.forEach(function(b){b.print()})},b._printLogDetails=function f(e){var a=e.logFunc?e.logFunc:console.log,b=e.message,c=[b];e.colors&&!this._isEdge&&(c=c.concat(e.colors)),e.args&&(c=c.concat(e.args)),a.apply(void 0,c)},b._openGroup=function b(){if(this._isPrimary){if(0===this._childGroups.length)return;var c=this._logs.shift();if(this._isFirefox)return void this._printLogDetails(c);c.logFunc=console.group,this._printLogDetails(c)}else console.groupCollapsed(this._groupTitle)},b._closeGroup=function a(){this._isPrimary&&0===this._childGroups.length||console.groupEnd()},a}(),f={isDevBuild:function(){return!1},isLocalhost:function(){return!!("localhost"===location.hostname||"[::1]"===location.hostname||location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},isServiceWorkerGlobalScope:a};self.goog=self.goog||{},self.goog.LOG_LEVEL=self.goog.LOG_LEVEL||{none:-1,verbose:0,debug:1,warn:2,error:3};var h=function(){function a(){this._defaultLogLevel=f.isDevBuild()?self.goog.LOG_LEVEL.debug:self.goog.LOG_LEVEL.warn}var b=a.prototype;return b.log=function a(b){this._printMessage(self.goog.LOG_LEVEL.verbose,b)},b.debug=function a(b){this._printMessage(self.goog.LOG_LEVEL.debug,b)},b.warn=function a(b){this._printMessage(self.goog.LOG_LEVEL.warn,b)},b.error=function a(b){this._printMessage(self.goog.LOG_LEVEL.error,b)},b._printMessage=function b(d,a){if(this._shouldLogMessage(d,a)){var e=this._getAllLogGroups(d,a);e.print()}},b._getAllLogGroups=function e(h,a){var b=this,i=new g({isPrimary:!0,title:"sw-helpers log."}),c=this._getPrimaryMessageDetails(h,a);if(i.addLog(c),a.error){var j={message:a.error,logFunc:console.error};i.addLog(j)}var d=new g({title:"Extra Information."});if(a.that&&a.that.constructor&&a.that.constructor.name){var f=a.that.constructor.name;d.addLog(this._getKeyValueDetails("class",f))}return a.data&&("object"!=typeof a.data||a.data instanceof Array?d.addLog(this._getKeyValueDetails("additionalData",a.data)):Object.keys(a.data).forEach(function(c){d.addLog(b._getKeyValueDetails(c,a.data[c]))})),i.addChildGroup(d),i},b._getKeyValueDetails=function b(c,a){return{message:"%c"+c+": ",colors:["color: "+"#3498db"],args:a}},b._getPrimaryMessageDetails=function f(h,a){var b,i;h===self.goog.LOG_LEVEL.verbose?(b="Info",i="#bdc3c7"):h===self.goog.LOG_LEVEL.debug?(b="Debug",i="#2ecc71"):h===self.goog.LOG_LEVEL.warn?(b="Warn",i="#f1c40f"):h===self.goog.LOG_LEVEL.error?(b="Error",i="#e74c3c"):void 0;var j,k="%c\uD83D\uDD27 %c["+b+"]",l=["color: #bdc3c7","color: "+i];return"string"==typeof a?j=a:a.message&&(j=a.message),j&&(j=j.replace(/\s+/g," "),k+="%c "+j,l.push("color: "+"#7f8c8d"+"; font-weight: normal")),{message:k,colors:l}},b._shouldLogMessage=function e(d,a){if(!a)return!1;var b=this._defaultLogLevel;return self&&self.goog&&"number"==typeof self.goog.logLevel&&(b=self.goog.logLevel),!(b===self.goog.LOG_LEVEL.none||d<b)},a}(),j=new h,k=new c(i.IDB.NAME,i.IDB.VERSION,i.IDB.STORE),l=function(b){return b=b||{},k.getAllKeys().then(function(a){return Promise.all(a.map(function(a){return k.get(a).then(function(c){var d=Date.now()-c,e=new URL(a);if(!(d>i.STOP_RETRYING_AFTER)&&"searchParams"in e){var f=b.parameterOverrides||{};f.qt=d,Object.keys(f).sort().forEach(function(a){e.searchParams.set(a,f[a])});var g=b.hitFilter;if("function"==typeof g)try{g(e.searchParams)}catch(a){return}return fetch(e.toString())}}).then(function(){return k.delete(a)})}))})};return{initialize:function f(c){c=c||{};var e=!1;self.addEventListener("fetch",function(a){var b=new URL(a.request.url),h=a.request;if(b.hostname===i.URL.HOST)if(b.pathname===i.URL.COLLECT_PATH){var g=h.clone();a.respondWith(fetch(h).then(function(a){return e&&l(c),e=!1,a},function(){return j.log("Enqueuing failed request..."),e=!0,d(g).then(function(){return Response.error()})}))}else b.pathname===i.URL.ANALYTICS_JS_PATH&&a.respondWith(caches.open(i.CACHE_NAME).then(function(a){return fetch(h).then(function(b){return a.put(h,b.clone()).then(function(){return b})}).catch(function(b){return j.error(b),a.match(h)})}))}),l(c)}}}();