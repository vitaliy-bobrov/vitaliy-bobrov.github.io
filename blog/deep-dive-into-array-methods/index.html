<!doctype html><html lang="en"><head><title>Deep Dive into Array Methods | Bobrov Blog</title><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="description" content="Deep dive into JavaScript Array methods for begginers and experts."><meta name="viewport" content="width=device-width,initial-scale=1,minimal-ui"><meta name="msapplication-tap-highlight" content="no"><meta name="mobile-web-app-capable" content="yes"><meta name="application-name" content="Bobrov Blog"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="black"><meta name="apple-mobile-web-app-title" content="Bobrov Blog"><meta name="msapplication-TileColor" content="#00bcd4"><link rel="alternate" type="application/rss+xml" href="https://vitaliy-bobrov.github.io/rss.xml"><link rel="apple-touch-icon" sizes="180x180" href="/images/icons/apple-touch-icon.png"><link rel="icon" type="image/png" href="/images/icons/favicon-32x32.png" sizes="32x32"><link rel="icon" type="image/png" href="/images/icons/favicon-16x16.png" sizes="16x16"><meta name="theme-color" content="#00bcd4"><link rel="manifest" href="/manifest.json"><meta name="google-site-verification" content="-49tfdke4pxwhrBhLHu5VHTk-bb7g9jK_xQuD5Elq2Y"><link rel="preload" href="https://www.google-analytics.com/analytics.js"><link rel="preload" href="https://fonts.googleapis.com/css?family=Roboto:300,400,400i,500,700"><link rel="preload" href="https://fonts.googleapis.com/css?family=Roboto+Mono"><link rel="stylesheet" href="/css/styles.css"><meta property="fb:app_id" content="393821434298248"><meta property="article:author" content="https://www.facebook.com/bobrov1989"><meta property="og:url" content="https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods/"><meta property="og:type" content="article"><meta property="og:title" content="Deep Dive into Array Methods"><meta property="og:description" content="Deep dive into JavaScript Array methods for begginers and experts."><meta property="og:image" content="https://vitaliy-bobrov.github.io/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-og.jpg"><meta property="og:image:url" content="https://vitaliy-bobrov.github.io/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-og.jpg"><meta property="og:image:type" content="image/jpeg"><meta property="og:image:width" content="1200"><meta property="og:image:height" content="630"><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@bobrov1989"><meta name="twitter:title" content="Deep Dive into Array Methods"><meta name="twitter:description" content="Deep dive into JavaScript Array methods for begginers and experts."><meta name="twitter:image" content="https://vitaliy-bobrov.github.io/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-og.jpg"><meta name="twitter:image:alt" content="Deep Dive into Array Methods"></head><body class="mdlext-dark-color-theme"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="0" height="0" style="position:absolute"><defs><svg viewbox="0 0 24 24" id="arrow-back" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"/><path d="M20 11H7.8l5.6-5.6L12 4l-8 8 8 8 1.4-1.4L7.8 13H20v-2z"/></svg> <svg viewbox="0 0 24 24" id="arrow-forward" xmlns="http://www.w3.org/2000/svg"><path d="M0 0h24v24H0z" fill="none"/><path d="M12 4l-1.41 1.41L16.17 11H4v2h12.17l-5.58 5.59L12 20l8-8z"/></svg> <svg viewbox="0 0 24 24" id="comment" xmlns="http://www.w3.org/2000/svg"><path d="M22 4c0-1-1-2-2-2H4C3 2 2 3 2 4v12c0 1 1 2 2 2h14l4 4V4zm-4 10H6v-2h12v2zm0-3H6V9h12v2zm0-3H6V6h12v2z"/><path fill="none" d="M0 0h24v24H0z"/></svg> <svg viewbox="0 0 24 24" id="expand-less" xmlns="http://www.w3.org/2000/svg"><path d="M12 8l-6 6 1.41 1.41L12 10.83l4.59 4.58L18 14z"/></svg> <svg viewbox="0 0 512 512" id="facebook" xmlns="http://www.w3.org/2000/svg"><path d="M287 456V157c0-21 6-35 35-35h38V59c-7-1-29-3-55-3-54 0-91 33-91 94v306m143-254H152v72h196"/></svg> <svg viewbox="0 0 512 512" id="github" xmlns="http://www.w3.org/2000/svg"><path d="M119 255c17 30 49 48 102 53-8 6-17 17-18 30-10 6-29 8-44 3-21-7-29-48-61-42-7 1-6 6 0 10 10 6 21 16 26 30 12 31 37 39 77 33v45c0 14-20 18-20 25 0 3 7 3 12 3 10 0 32-9 32-23 0-12 0-52 1-59 0-15 8-20 8-20s1 82-2 92c-4 13-10 11-10 17 0 9 26 2 35-17 7-15 4-95 3-94h7s0 37 1 53c0 17-1 39 9 50 7 7 29 19 29 8 0-6-12-12-12-29v-79c10 0 8 26 8 26l1 48s-2 18 19 25c8 3 24 3 25-1s-20-11-20-25v-49c0-36-5-49-22-60 53-5 86-18 102-53 10-20 12-44 12-62 0-50-24-67-29-76 7-38-1-55-5-60-14-5-48 12-66 24-30-9-94-8-118 2-44-31-67-26-67-26s-15 27-4 66c-15 18-25 31-26 65 0 27 3 44 15 67z"/></svg> <svg viewbox="0 0 512 512" id="google-plus" xmlns="http://www.w3.org/2000/svg"><path d="M56 257a126 126 0 0 1 212-96l-33 33c-21-13-49-24-75-14a80 80 0 1 0 54 151c21-8 35-28 41-48l-72-1v-44h122c1 36-3 74-27 102a127 127 0 0 1-222-83zm327-56h36l1 37h36v37h-36l-1 36h-36v-36h-37v-37h37z"/></svg> <svg viewbox="0 0 512 512" id="linkedin" xmlns="http://www.w3.org/2000/svg"><circle cx="104" cy="104" r="48"/><path d="M237 178v259M104 178v259" stroke="currentColor" stroke-width="86"/><path d="M279 293c0-26 18-53 48-53 31 0 43 24 43 59v138h86V289c0-80-42-116-99-116-45 0-67 25-78 42"/></svg> <svg viewbox="0 0 24 24" id="menu" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"/><path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/></svg> <svg viewbox="0 0 24 24" id="share" xmlns="http://www.w3.org/2000/svg"><path fill="none" d="M0 0h24v24H0z"/><path d="M18 16c-.8 0-1.4.4-2 .8l-7-4v-1.5l7-4c.5.4 1.2.7 2 .7 1.7 0 3-1.3 3-3s-1.3-3-3-3-3 1.3-3 3v.7l-7 4C7.5 9.4 6.8 9 6 9c-1.7 0-3 1.3-3 3s1.3 3 3 3c.8 0 1.5-.3 2-.8l7.2 4.2v.6c0 1.6 1.2 3 2.8 3 1.6 0 3-1.4 3-3s-1.4-3-3-3z"/></svg> <svg viewbox="0 0 512 512" id="twitter" xmlns="http://www.w3.org/2000/svg"><path d="M456 133c-14 7-31 11-47 13 17-10 30-27 37-46-15 10-34 16-52 20-61-62-157-7-141 75-68-3-129-35-169-85-22 37-11 86 26 109-13 0-26-4-37-9 0 39 28 72 65 80-12 3-25 4-37 2 10 33 41 57 77 57-42 30-77 38-122 34 170 111 378-32 359-208 16-11 30-25 41-42z"/></svg></defs></svg><div class="mdl-layout mdl-layout--no-desktop-drawer-button mdl-layout--fixed-header mdl-js-layout"><header class="mdl-layout__header" role="banner"><div class="mdl-layout__header-row"><span class="mdl-layout-title"><a class="site-link" href="/">Bobrov Blog</a></span><div class="mdl-layout-spacer"><a href="/" class="site-logo" title="Bobrov Blog"><picture class="site-logo__picture"><source media="(min-width: 1025px)" srcset="/images/logo.webp, /images/logo@2x.webp 2x" type="image/webp"><source media="(min-width: 1025px)" srcset="/images/logo.png, /images/logo@2x.png 2x"><source media="(min-width: 768px)" srcset="/images/logo-tablet.webp, /images/logo-tablet@2x.webp 2x" type="image/webp"><source media="(min-width: 768px)" srcset="/images/logo-tablet.png, /images/logo-tablet@2x.png 2x"><source srcset="/images/logo-mobile.webp, /images/logo-mobile@2x.webp 2x" type="image/webp"><source srcset="/images/logo-mobile.png, /images/logo-mobile@2x.png 2x"><img src="/images/logo.png" alt="Bobrov Blog Logo" class="site-logo__img" itemprop="logo"></picture></a></div><nav class="mdl-navigation mdl-layout--large-screen-only"><a class="mdl-navigation__link" href="/">Blog</a> <a class="mdl-navigation__link" href="/about/">About</a></nav></div></header><div class="mdl-layout__drawer"><span class="mdl-layout-title">Bobrov Blog</span><nav class="mdl-navigation"><a class="mdl-navigation__link" href="/" aria-current="page">Blog</a> <a class="mdl-navigation__link" href="/about/">About</a></nav></div><main class="mdl-layout__content js-to-top-container"><section class="mdl-grid posts-grid"><article class="mdl-card mdl-shadow--3dp mdl-cell post mdl-cell--12-col"><header class="mdl-card__media post__media"><picture class="safe-picture"><source media="(min-width: 1025px)" srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods.webp, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods@2x.webp 2x" type="image/webp"><source media="(min-width: 1025px)" srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods.jpg, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods@2x.jpg 2x"><source media="(min-width: 768px)" srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-tablet.webp, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-tablet@2x.webp 2x" type="image/webp"><source media="(min-width: 768px)" srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-tablet.jpg, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-tablet@2x.jpg 2x"><source srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-mobile.webp, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-mobile@2x.webp 2x" type="image/webp"><source srcset="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-mobile.jpg, /images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods-mobile@2x.jpg 2x"><img src="/images/posts/deep-dive-into-array-methods/deep-dive-into-array-methods.jpg" alt="Deep Dive into Array Methods" class="safe-picture__img"></picture><div class="safe-gradient"></div><h1 class="post__title">Deep Dive into Array Methods</h1></header><section class="post__info post-info"><div class="post-info__data"><picture class="post-info__avatar"><source srcset="/images/authors/bobrov/avatar.webp, /images/authors/bobrov/avatar@2x.webp 2x" type="image/webp"><source srcset="/images/authors/bobrov/avatar.jpg, /images/authors/bobrov/avatar@2x.jpg 2x"><img src="/images/authors/bobrov/avatar.jpg" alt="Vitaliy Bobrov Photo" class="mdl-list__item-avatar"></picture><div class="post-info__data-wrapper"><div class="post-info__author">Vitaliy Bobrov</div><time date-time="2017-06-21T02:00:00+02:00" class="post-info__date">21 June 2017</time></div></div><div class="post-info__side"><div class="post-info__categories"><a href="/category/javascript" class="mdl-chip post-info__category"><span class="mdl-chip__text">JavaScript</span> </a><a href="/category/functional-programming" class="mdl-chip post-info__category"><span class="mdl-chip__text">Functional Programming</span></a></div></div></section><div class="mdl-card__menu post-share"><button id="share-menu-[object Object]" class="mdl-button mdl-button--icon mdl-js-button mdl-js-ripple-effect post-share__button js-share-btn" title="Share this post" aria-label="Share this post" data-share-title="Deep Dive into Array Methods" data-share-text="Deep dive into JavaScript Array methods for begginers and experts." data-share-url="https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods"><svg class="mdl-svg post-share__icon"><use xlink:href="#share"/></svg></button><ul class="mdl-menu mdl-menu--bottom-right mdl-js-menu mdl-js-ripple-effect share-menu js-share-menu"><li class="mdl-menu__item share-menu__item"><a href="//www.facebook.com/sharer.php?u=https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods" class="share-menu__link" target="_blank" rel="nofollow noreferrer noopener"><svg class="share-menu__icon"><use xlink:href="#facebook"/></svg> Facebook</a></li><li class="mdl-menu__item share-menu__item"><a href="//twitter.com/home?status=https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods" class="share-menu__link" target="_blank" rel="nofollow noreferrer noopener"><svg class="share-menu__icon"><use xlink:href="#twitter"/></svg> Twitter</a></li><li class="mdl-menu__item share-menu__item"><a href="//linkedin.com/shareArticle?url=https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods" class="share-menu__link" target="_blank" rel="nofollow noreferrer noopener"><svg class="share-menu__icon"><use xlink:href="#linkedin"/></svg> LinkedIn</a></li><li class="mdl-menu__item share-menu__item"><a href="//plus.google.com/share?url=https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods" class="share-menu__link" target="_blank" rel="nofollow noreferrer noopener"><svg class="share-menu__icon"><use xlink:href="#google-plus"/></svg> Goggle+</a></li></ul></div><section class="post__contents"><p>Knowledge of JavaScript <code class="lang-js"><span class="hljs-built_in">Array</span></code> methods is really important. It allows writing code in functional style. As not all of those methods are immutable developers should know when to handle or avoid data mutations. Another important feature of array methods is context handling as it could dramatically simplify your code.</p><p>In this article, I want to show you some examples that are close to real use-cases rather than theory. If you need documentation you can get it on <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array" target="_blank" rel="nofollow noreferrer noopener">MDN</a>.</p><h2>Immutable methods</h2><p>JavaScript provides a bunch of immutable methods for arrays manipulations. What does it mean? These methods not mutate data and always return a new modified array.</p><h3>Map</h3><p>The method is used to map array dataset, make some modifications on each array element. In difference to <code class="lang-bash"><span class="hljs-keyword">for</span>Each</code> method, it always returns a new array instead modifying existing. For example, you have a list of blog posts and you want to get a list of posts ids to get comments for each of them:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> posts = [
  {
    id: <span class="hljs-number">1</span>,
    title: <span class="hljs-string">'Post 1'</span>
  },
  {
    id: <span class="hljs-number">3</span>,
    title: <span class="hljs-string">'Post 3'</span>
  }
];

<span class="hljs-keyword">const</span> postIDs = posts.map(post =&gt; post.id);

<span class="hljs-built_in">console</span>.log(postIDs); <span class="hljs-comment">// [1, 3]</span>
</code></pre><p>Combining map method with <em>arrow function</em> makes the code more readable and declarative. Another example, after getting posts comments from some source (back-end API for example), we want to add comments data to each post, no problems it’ll be easy with <code>map</code>:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> comments = [
  {
    post: <span class="hljs-number">1</span>,
    comment: <span class="hljs-string">'Cool article!'</span>,
    author: <span class="hljs-string">'User 1'</span>
  },
  {
    post: <span class="hljs-number">3</span>,
    comment: <span class="hljs-string">'Thanks'</span>,
    author: <span class="hljs-string">'User 2'</span>
  },
  {
    post: <span class="hljs-number">1</span>,
    comment: <span class="hljs-string">'Nice'</span>,
    author: <span class="hljs-string">'User 3'</span>
  }
];

<span class="hljs-keyword">const</span> postsWithComments = posts.map(post =&gt; {
  post.comments = comments
    .filter(comment =&gt; comment.post === post.id);

  <span class="hljs-keyword">return</span> post;
});
</code></pre><p>You might figure out that we used another method to find the comment by post id – <code>filter</code>. Let take a look on this method.</p><h3>Filter</h3><p>Filter method is very useful when we need to make the partial copy of data that is aligned to some rule. In the previous example we get comments that have <code>post</code> property equals post <code>id</code>. As you may know, methods could be <em>chained</em>, for example, you need to get ids of posts that are related to “JavaScript” category:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> posts [
  {
    id: <span class="hljs-number">1</span>,
    title: <span class="hljs-string">'Some title'</span>,
    category: <span class="hljs-string">'JavaScript'</span>
  },
  {
    id: <span class="hljs-number">12</span>,
    title: <span class="hljs-string">'Some title'</span>,
    category: <span class="hljs-string">'Ruby'</span>
  },
  {
    id: <span class="hljs-number">31</span>,
    title: <span class="hljs-string">'Some title'</span>,
    category: <span class="hljs-string">'JavaScript'</span>
  }
];

<span class="hljs-keyword">const</span> jsCatPosts = posts
  .filter(post =&gt; post.category === <span class="hljs-string">'JavaScript'</span>)
  .map(post =&gt; post.id);

<span class="hljs-built_in">console</span>.log(jsCatPosts); <span class="hljs-comment">// [1, 31]</span>
</code></pre><p>Another example, you want to remove duplicated items from the list, the simplest way is to filter list with the condition:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> duplicates = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">5</span>, <span class="hljs-number">6</span>, <span class="hljs-number">4</span>, <span class="hljs-number">8</span>, <span class="hljs-number">1</span>, <span class="hljs-number">4</span>, <span class="hljs-number">9</span>];

<span class="hljs-keyword">const</span> unique = duplicates
  .filter(item =&gt; duplicates.indexOf(item) === duplicates.lastIndexOf(item));

<span class="hljs-built_in">console</span>.log(unique); <span class="hljs-comment">// [3, 5, 6, 8, 9]</span>
</code></pre><p>Here we used <code>indexOf</code> and <code>lastIndexOf</code> methods to check item uniquness. Those methods often used to check if item is present in list, but better to use new <code>includes</code> method for that, if possible of cource 🤓:</p><pre><code class="language-js lang-js"><span class="hljs-comment">// indexOf return -1 if no occurances found.</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>) !== -<span class="hljs-number">1</span> <span class="hljs-comment">// true,</span>

<span class="hljs-comment">// Less readable variation, please do NOT use it.</span>
~[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].indexOf(<span class="hljs-number">4</span>) <span class="hljs-comment">// true.</span>

<span class="hljs-comment">// Better ES6 way</span>
[<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>].includes(<span class="hljs-number">4</span>) <span class="hljs-comment">// false.</span>
</code></pre><h3>Concat</h3><p>Sometimes you need to add new element or elements to the array, here is <code>concat</code> method on a rescue. It returns new united array:</p><pre><code class="language-js lang-js"><span class="hljs-comment">// Mutation way to add the new item.</span>
<span class="hljs-keyword">const</span> postIds = [<span class="hljs-number">23</span>, <span class="hljs-number">67</span>, <span class="hljs-number">87</span>];

postIds.push(<span class="hljs-number">12</span>); <span class="hljs-comment">// [23, 67, 87, 12]</span>

<span class="hljs-comment">// Immutable way.</span>
<span class="hljs-keyword">let</span> postIds = [<span class="hljs-number">23</span>, <span class="hljs-number">67</span>, <span class="hljs-number">87</span>];

postIds = postIds.concat([<span class="hljs-number">12</span>]); <span class="hljs-comment">// [23, 67, 87, 12]</span>
</code></pre><p>But in ES2015 there is another way to join arrays – <em>spread operator</em>. It is more readable in my taste 😇:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">let</span> postIds = [<span class="hljs-number">23</span>, <span class="hljs-number">67</span>, <span class="hljs-number">87</span>];

postIds = [...postIds, <span class="hljs-number">12</span>] <span class="hljs-comment">// [23, 67, 87, 12]</span>

<span class="hljs-comment">// Merging 2 arrays</span>
<span class="hljs-keyword">const</span> list1 = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> list2 = [<span class="hljs-number">6</span>, <span class="hljs-number">5</span>, <span class="hljs-number">4</span>];

<span class="hljs-keyword">const</span> union = [...list1, ...list2]; <span class="hljs-comment">// [1, 2, 3, 6, 5, 4]</span>
</code></pre><p>The good news that spread operator works with new JavaScript types as well, for example with <code class="lang-js"><span class="hljs-built_in">Set</span></code></p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> setOfIds = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>([<span class="hljs-number">45</span>, <span class="hljs-number">32</span>, <span class="hljs-number">11</span>]);

setOfIds.add(<span class="hljs-number">45</span>); <span class="hljs-comment">// [45, 32, 11] only unique values</span>
setOfIds.add(<span class="hljs-number">12</span>); <span class="hljs-comment">// [45, 32, 11, 12]</span>

<span class="hljs-keyword">const</span> listOfIds = [<span class="hljs-number">13</span>, <span class="hljs-number">14</span>, <span class="hljs-number">15</span>];
<span class="hljs-keyword">const</span> allIds = [...setOfIds, ...listOfIds];
<span class="hljs-comment">// [45, 32, 11, 12, 13, 14, 15]</span>
</code></pre><h3>Reduce</h3><p><code>reduce</code> one of the most powerful methods of the array. It is commonly used in functional style JavaScript. You could aggregate data using this method or transparently transform <code class="lang-js"><span class="hljs-built_in">Array</span></code> to another type. Reduce could be used to replace other methods as well, for example, <code>filter</code> implementation with <code>reduce</code>:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> numbers = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>, <span class="hljs-number">4</span>];
<span class="hljs-keyword">const</span> oddNums = numbers.reduce((filtered ,num) =&gt; {
  <span class="hljs-keyword">if</span> (num %<span class="hljs-number">2</span> !== <span class="hljs-number">0</span>) {
    filtered.push(num);
  }

  <span class="hljs-keyword">return</span> filtered;
}, []);

<span class="hljs-built_in">console</span>.log(oddNums); <span class="hljs-comment">// [1, 3]</span>
</code></pre><p>Other example, gather statistics about letters occurance in array of strings:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> words = [<span class="hljs-string">'html'</span>, <span class="hljs-string">'css'</span>, <span class="hljs-string">'js'</span>];
<span class="hljs-keyword">const</span> statistics = words.reduce((stats, word) =&gt; {
  <span class="hljs-keyword">const</span> letters = word.split(<span class="hljs-string">''</span>);

  letters.forEach(letter =&gt; {
    <span class="hljs-keyword">if</span> (<span class="hljs-keyword">typeof</span> stats[letter] !== <span class="hljs-string">'undefined'</span>) {
      stats[letter]++;
    } <span class="hljs-keyword">else</span> {
      stats[letter] = <span class="hljs-number">1</span>;
    }
  });

  <span class="hljs-keyword">return</span> stats;
}, {});

<span class="hljs-built_in">console</span>.log(statistics);
<span class="hljs-comment">// {h: 1, t: 1, m: 1, l: 1, c: 1, j: 1, s: 3}</span>
</code></pre><p>In this example, we transformed <code class="lang-js"><span class="hljs-built_in">Array</span></code> into statistics <code class="lang-js"><span class="hljs-built_in">Object</span></code> with reducing help. Here we used <code class="lang-bash"><span class="hljs-keyword">for</span>Each</code> method to iterate over letters in a word because we haven’t modified letters array, but when you need to change items in a list prefer <code>map</code> method instead.</p><p>There is <code>reduceRight</code> method in the specification, the only difference that it starts iterate from the end of an array instead start in <code>reduce</code>.</p><h3>Every &amp; Some</h3><p><code>every</code> and <code>some</code> methods could be implemented with <code>reduce</code> as well because they transform <code class="lang-js"><span class="hljs-built_in">Array</span></code> into <code class="lang-ts"><span class="hljs-built_in">boolean</span></code>. Every check if all items align with provided condition. Some instead return <code class="lang-js"><span class="hljs-literal">true</span></code> if any of items follow condition. As the example imagine that you need to check all items have a <code>children</code> property:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> normalizedTree = [
  {
    id: <span class="hljs-number">1</span>,
    children: [<span class="hljs-number">2</span>, <span class="hljs-number">3</span>]
  },
  {
    id: <span class="hljs-number">2</span>,
    children: []
  },
  {
    id: <span class="hljs-number">3</span>,
    children: []
  }
];

<span class="hljs-keyword">const</span> isValidTreeItems = normalizedTree.every(item =&gt; item.children);

<span class="hljs-built_in">console</span>.log(isValidTreeItems); <span class="hljs-comment">// true</span>
</code></pre><p>Here is the situation when you need to set the intermediate state for parent checkbox if any child selected:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> parent = {
  id: <span class="hljs-number">1</span>,
  value: <span class="hljs-string">'JS'</span>,
  children: [
    {
      id: <span class="hljs-number">2</span>,
      value: <span class="hljs-string">'React'</span>,
      selected: <span class="hljs-literal">true</span>
    },
    {
      id: <span class="hljs-number">3</span>,
      value: <span class="hljs-string">'Vue'</span>,
      selected: <span class="hljs-literal">false</span>
    },
    {
      id: <span class="hljs-number">4</span>,
      value: <span class="hljs-string">'Angular'</span>,
      selected: <span class="hljs-literal">false</span>
    }
  ];
};

<span class="hljs-keyword">const</span> intermediate = parent.chilred.some(item =&gt; item.selected);

<span class="hljs-built_in">console</span>.log(intermediate); <span class="hljs-comment">// true.</span>
</code></pre><h3>Slice</h3><p>Slice is used to make partial or full copy of array, the API is pretty clear:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> list = [<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>];
<span class="hljs-keyword">const</span> partial = list.slice(<span class="hljs-number">0</span>, <span class="hljs-number">1</span>); <span class="hljs-comment">// [1, 2]</span>
</code></pre><p>It is usefull to make copy of array to use some of mutation methods on it:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> list = [<span class="hljs-number">3</span>, <span class="hljs-number">2</span>, <span class="hljs-number">1</span>];
<span class="hljs-comment">// Make a copy.</span>
<span class="hljs-keyword">const</span> sorted = list.slice();
sorted.sort();

<span class="hljs-built_in">console</span>.log(sorted); <span class="hljs-comment">// [1, 2, 3];</span>
</code></pre><p>Here we made sorted copy of the initial array. To sort the array we used <code>sort</code> method, we can pass callback inside it to compare non-primitive items. This callback should return number: negative if the first element less than previous, zero if they are equal or positive if first value bigger than second. Here is the simple example to sort the list of objects by date:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> sortByDate = (a, b) =&gt; {
  a.date.getTime() - b.date.getTime();
}

<span class="hljs-keyword">const</span> posts = [
  {
    id: <span class="hljs-number">1</span>,
    date: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2017-06-22'</span>)
  },
  {
    id: <span class="hljs-number">2</span>,
    date: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2017-06-01'</span>)
  },
  {
    id: <span class="hljs-number">3</span>,
    date: <span class="hljs-keyword">new</span> <span class="hljs-built_in">Date</span>(<span class="hljs-string">'2017-06-16'</span>)
  }
];

posts.sort(sortByDate);
</code></pre><h3>Of &amp; From</h3><p>Those two methods are compabions to create new array, <code class="lang-js"><span class="hljs-keyword">of</span></code> creates array of all passed arguments. <code>from</code> creates array from any <em>iterable</em> object, like <code class="lang-js"><span class="hljs-built_in">Map</span></code>, <code class="lang-js"><span class="hljs-built_in">Set</span></code> or <code class="lang-js"><span class="hljs-built_in">String</span></code>:</p><pre><code class="language-js lang-js"><span class="hljs-keyword">const</span> list = <span class="hljs-built_in">Array</span>.of(<span class="hljs-number">1</span>, <span class="hljs-number">2</span>, <span class="hljs-number">3</span>); <span class="hljs-comment">// [1, 2, 3]</span>

<span class="hljs-keyword">const</span> box = <span class="hljs-keyword">new</span> <span class="hljs-built_in">Set</span>();
box.add(<span class="hljs-number">1</span>);
box.add(<span class="hljs-number">2</span>);

<span class="hljs-keyword">const</span> boxList = <span class="hljs-built_in">Array</span>.from(box); <span class="hljs-comment">// [1, 2]</span>

<span class="hljs-comment">// But also remember about spread operator</span>

<span class="hljs-keyword">const</span> otherBoxList = [...box]; <span class="hljs-comment">// [1, 2]</span>
</code></pre><h2>Context handling</h2><p>Some of the array methods, like <code>map</code>, has the ability to pass context as the last argument. In some cases, it is really helpful, but nobody knows/remember about such possibility and start to use <code class="lang-bash"><span class="hljs-built_in">bind</span></code> / <code>call</code> / <code>apply</code> to change execution context.</p><p>Let us imagine you have some service to fetch data from REST API, and after response, you need to map all received data, using the same class method and/or properties:</p><pre><code class="language-js lang-ts"><span class="hljs-keyword">class</span> PostsService {
  <span class="hljs-constructor"><span class="hljs-keyword">constructor</span>(http, dataParse) </span>{
    <span class="hljs-keyword">this</span>.http = http;
    <span class="hljs-keyword">this</span>.dateParse = dateParse;
  }

  getPosts() {
    <span class="hljs-keyword">return</span> <span class="hljs-keyword">this</span>.http.get(<span class="hljs-string">'api/v1/posts'</span>)
      .then(response =&gt; {
        <span class="hljs-keyword">const</span> data = response.json();

        <span class="hljs-keyword">return</span> data.map(<span class="hljs-keyword">this</span>.postsMapper, <span class="hljs-keyword">this</span>);
      });
  }

  postsMapper(post) {
    post.date = <span class="hljs-keyword">this</span>.dateParse(post.date);

    <span class="hljs-keyword">return</span> post;
  }
}
</code></pre><p>So you can see that we are injecting some date parsing function into our service. Then we use it to parse date on each received post. As <code>postsMapper</code> used <code>PostsService</code> method inside it need to have the same context. Instead, bind context in the constructor we simply pass <code class="lang-js"><span class="hljs-keyword">this</span></code> as the last argument. Here is the full list of <code class="lang-js"><span class="hljs-built_in">Array</span></code> methods that have possibility to pass context as the last argument:</p><ul><li>every</li><li>filter</li><li>find</li><li>findIndex</li><li>forEach</li><li>map</li><li>some</li></ul><h2>Epilog</h2><p>This is all that I’ve wanted to tell about most useful array methods, hope some of the examples will find their place in your projects and will improve your JavaScript skills 😎.</p></section></article><div id="disqus_thread" class="mdl-card mdl-shadow--3dp mdl-cell mdl-cell--12-col comments-widget"></div></section></main><div aria-live="assertive" aria-atomic="true" aria-relevant="text" class="mdl-snackbar mdl-js-snackbar"><div class="mdl-snackbar__text"></div><button type="button" class="mdl-snackbar__action"></button></div><footer role="contentinfo" class="mdl-mini-footer page-footer"><a href="#top" class="mdl-button mdl-js-button mdl-js-ripple-effect mdl-button--primary mdl-button--fab mdl-button--mini-fab to-top js-to-top"><svg class="mdl-svg to-top__icon"><use xlink:href="#expand-less"/></svg> Go to the top</a><section class="mdl-mini-footer--left-section page-footer__left-section"><a href="https://twitter.com/bobrov1989" target="_blank" rel="nofollow noreferrer noopener" class="mdl-mini-footer--social-btn" title="Twitter"><svg class="mdl-mini-footer--social-btn__icon"><use xlink:href="#twitter"/></svg> </a><a href="https://github.com/vitaliy-bobrov" target="_blank" rel="nofollow noreferrer noopener" class="mdl-mini-footer--social-btn" title="GitHub"><svg class="mdl-mini-footer--social-btn__icon"><use xlink:href="#github"/></svg></a></section><section class="mdl-copyright"><p>&copy; 2017 Bobrov Blog</p></section><section class="mdl-mini-footer--right-section page-footer__right-section"><p>Generated with <a href="http://metalsmith.io/" target="_blank" rel="nofollow noreferrer noopener">Metalsmith</a></p></section></footer></div><script>window.ga=window.ga||function(){(ga.q=ga.q||[]).push(arguments)};ga.l=+new Date;
    ga('create', 'UA-90372372-1', 'auto');
    ga('set', 'transport', 'beacon');
    ga('send', 'pageview');</script><script async src="https://www.google-analytics.com/analytics.js"></script><script src="/js/main.min.js" async defer></script><script>var disqus_config = function() {
        this.page.url = 'https://vitaliy-bobrov.github.io/blog/deep-dive-into-array-methods';
        this.page.identifier = 'deep_dive_into_array_methods';
        this.page.title = 'Deep Dive into Array Methods';
      };

      (function(d) {
        var s = d.createElement('script');
        s.src = '//bobrov-blog.disqus.com/embed.js';
        s.setAttribute('data-timestamp', +new Date());
        (d.head || d.body).appendChild(s);
      })(document);</script></body></html>