<html><head><meta name="twitter:card" content="summary_large_image"><meta name="twitter:site" content="@bobrov1989"><meta name="twitter:title" content="Angular Smart 404 Page"><meta name="twitter:description" content="Typos in the URL is a straightforward way to 404 page. But could we make user experience in that situation better? For example, could we provide a user with the correct path? Today I will show how to make a prediction of the correct location on 404 page without machine learning and magic."><meta name="twitter:image" content="https://bobrov.dev/images/posts/angular-smart-404-page/angular-smart-404-page-og.jpg"><meta name="twitter:image:alt" content="Angular Smart 404 Page"></head><body><p>Typos in the URL is a straightforward way to 404 page. But could we make user experience in that situation better? For example, could we provide a user with the correct path? Today I will show how to make a prediction of the correct location on 404 page without machine learning and magic.</p>
<p class="post__series">The example app is build using <code>Angular</code> <em>7.1.0</em> and <code>Angular CLI</code> <em>7.1.2</em>. But the code should work with any Angular version without any major problems.</p>
<h2>Why?</h2>
<p>What is the problem with a standard ‚ÄúNot found‚Äù pages? Usually, it doesn‚Äôt help to find the correct address to the resource user looks for. It might contain a link to the home page or navigation list. But find content that neede at the moment might be so hard. How we can solve this problem? It will be great if we can look at the existing sitemap or routes list and find one that could be what user means.</p>
<p>If we are speaking about modern JS frameworks and Angular in particular we already have all the links across our app as a router configuration. This solves the lookup source part.</p>
<h2>What?</h2>
<p>OK, when we can parse the link provided by a user? The best place for that might be a router guard. If we want to pass data to the 404 component we can use resolve guard. To be honest, I haven‚Äôt found real cases of usage resolvers in applications I‚Äôve worked on, so I‚Äôm very happy that I found a use case for them.</p>
<p>Well, the only missing piece of the solution is how to understand what the user wanted to see? You might think about neural networks. We could train a model based on some dataset, for example, analytics. But this may be a big overhead and require two additional steps: gather analytics and train a model using it. There is another solution that could work - <a href="https://en.wikipedia.org/wiki/Levenshtein_distance" target="_blank" rel="nofollow noreferrer noopener">Levenshtein distance algorithm</a>. What is that? Levenshtein distance is a number of operations (insert, move, delete character) need to be performed to transform one string to another. It is quite simple and won‚Äôt take a lot of lines of code in TypeScript. I can say that you already met this algorithm. Wondering where? Think about typos handled by CLI tools for example, <code>git</code>. If you do a typo in git command it will try to suggest you a correct one:</p>
<pre class="language-bash"><code class="language-bash"><span class="token function">git</span> cone
git: <span class="token string">'cone'</span> is not a <span class="token function">git</span> command. See <span class="token string">'git --help'</span><span class="token keyword">.</span>

The <span class="token function">most</span> similar <span class="token function">command</span> is clone
</code></pre>
<p>And even more the same algorithm is used in Angular CLI ü§Ø:</p>
<pre class="language-bash"><code class="language-bash">ng ganerate
The specified <span class="token function">command</span> <span class="token punctuation">(</span><span class="token string">"ganerate"</span><span class="token punctuation">)</span> is invalid.
For a list of available options, run <span class="token string">"ng help"</span><span class="token keyword">.</span>

Did you mean <span class="token string">"generate"</span>?
</code></pre>
<h2>How?</h2>
<p>How to use Levenshtein distance to suggest a correct value? We need the list of correct values - commands in case of CLI tool and paths in case or routing. Let call it a dictionary. We have an invalid user input. Then we need to calculate a distance between user input and each entry in our dictionary. The dictionary item with the smaller distance will be possible user wish. That means that we can sort the dictionary by the Levenshtein distance to an invalid value. And we are done.</p>
<p>In my example, I want to pass suggested path to ‚ÄúPage not found‚Äù component and show a message with a correct URL. You can try working <a href="https://bobrov.dev/ngx-smart-routing-demo/">demo</a>. Try to enter an incorrect path after the <code>/#/</code> and see the result. I‚Äôve used hash location strategy only for demo purpose, as I want to handle 404 error by demo app instead of GitHub pages.</p>
<p class="js-lazy-load"><img src="/images/posts/angular-smart-404-page/img/hame-typo-url.jpg" alt="Smart 404 demo with " hame" url instead "home""></p>
<p>On the screenshot above I did a mistake and tried to navigate to ‚Äúhame‚Äù page. Using resolve guard I showed a user the valid link - "/home". You can find the source code on <a href="https://github.com/vitaliy-bobrov/ngx-smart-routing-demo" target="_blank" rel="nofollow noreferrer noopener">GitHub repo</a>.</p>
<h2>Implementation</h2>
<p>It was all about theory, but let me explain how to achieve the same result on your own. The app was created via Angular CLI. Then I generated three components home, about and contact. During the app creation, I choose <code>routing</code> option to generate a routing module. The first piece of a puzzle we need a dictionary. I decided to create a paths map - object with keys to having human-readable name and path string as a value. And saving this map into <code>app-paths.ts</code> file. In this case, I can use this mapping in router definitions and in the resolver.</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// app-paths.ts</span>

<span class="token keyword">export</span> <span class="token keyword">const</span> paths <span class="token operator">=</span> <span class="token punctuation">{</span>
  home<span class="token punctuation">:</span> <span class="token string">'home'</span><span class="token punctuation">,</span>
  about<span class="token punctuation">:</span> <span class="token string">'about'</span><span class="token punctuation">,</span>
  contact<span class="token punctuation">:</span> <span class="token string">'contact'</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Then inside <code>app-routing.module.ts</code> I used it for router definitions:</p>
<pre class="language-typescript"><code class="language-typescript"><span class="token comment">// app-routing.module.ts</span>

<span class="token keyword">const</span> routes<span class="token punctuation">:</span> Routes <span class="token operator">=</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">''</span><span class="token punctuation">,</span>
    pathMatch<span class="token punctuation">:</span> <span class="token string">'full'</span><span class="token punctuation">,</span>
    redirectTo<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>home
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>home<span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> HomeComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>about<span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> AboutComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> paths<span class="token punctuation">.</span>contact<span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> ContactComponent
  <span class="token punctuation">}</span><span class="token punctuation">,</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">'**'</span><span class="token punctuation">,</span>
    resolve<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      path<span class="token punctuation">:</span> PathResolveService
    <span class="token punctuation">}</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> NotFoundComponent
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span><span class="token punctuation">;</span>
</code></pre>
<p>Everything else in this module is standard, they only thing was necessary in my specific case was <code>useHash: true</code> option for router module. The part of routing we will focus now is <code>"**"</code> path. It will match everything that hasn‚Äôt been found in the existing router configuration. Usually, it used for 404 views. So I also created <code>NotFoundComponent</code> and added <code>path</code> property to <code>resolve</code> configuration. To resolve path data it should use <code>PathResolveService</code>.</p>
<p>First, let take a look at <code>NotFoundComponent</code>:</p>
<pre class="language-typescript"><code class="language-typescript">@<span class="token function">Component</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  selector<span class="token punctuation">:</span> <span class="token string">'app-not-found'</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token template-string"><span class="token string">`
    <h2>
      404 - Page not found
    </h2>
    <p *ngif="path">You might want to go to the <a [routerlink]="path">"{{ path }}" page</a></p>
  `</span></span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">NotFoundComponent</span> <span class="token keyword">implements</span> <span class="token class-name">OnInit</span> <span class="token punctuation">{</span>
  path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">;</span>

  <span class="token keyword">constructor</span><span class="token punctuation">(</span><span class="token keyword">private</span> route<span class="token punctuation">:</span> ActivatedRoute<span class="token punctuation">)</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>

  <span class="token function">ngOnInit</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">this</span><span class="token punctuation">.</span>route<span class="token punctuation">.</span>data<span class="token punctuation">.</span><span class="token function">pipe</span><span class="token punctuation">(</span><span class="token function">take</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">subscribe</span><span class="token punctuation">(</span><span class="token punctuation">(</span>data<span class="token punctuation">:</span> <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token punctuation">}</span><span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
        <span class="token keyword">this</span><span class="token punctuation">.</span>path <span class="token operator">=</span> data<span class="token punctuation">.</span>path<span class="token punctuation">;</span>
      <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>We are using activated route snapshot to get the path resolved by <code>PathResolveService</code>. This path is used in the component template to show a user-friendly message with the link to correct resource.</p>
<p>Now let‚Äôs switch to the final and most important part - the resolver. As any data resolve guard it can optionally implement <code>Resolve</code> interface:</p>
<pre class="language-typescript"><code class="language-typescript">@<span class="token function">Injectable</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  providedIn<span class="token punctuation">:</span> <span class="token string">'root'</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token keyword">export</span> <span class="token keyword">class</span> <span class="token class-name">PathResolveService</span> <span class="token keyword">implements</span> <span class="token class-name">Resolve</span><span class="token operator"><</span><span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span><span class="token operator">></span> <span class="token punctuation">{</span>
  <span class="token function">resolve</span><span class="token punctuation">(</span>
    route<span class="token punctuation">:</span> ActivatedRouteSnapshot<span class="token punctuation">,</span>
    state<span class="token punctuation">:</span> RouterStateSnapshot
  <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre>
<p>Using <code>RouterStateSnapshot</code> we can get the URL entered by the user:</p>
<pre class="language-typescript"><code class="language-typescript">  <span class="token function">resolve</span><span class="token punctuation">(</span>
    route<span class="token punctuation">:</span> ActivatedRouteSnapshot<span class="token punctuation">,</span>
    state<span class="token punctuation">:</span> RouterStateSnapshot
  <span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">string</span> <span class="token operator">|</span> <span class="token keyword">null</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> typoPath <span class="token operator">=</span> state<span class="token punctuation">.</span>url<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token string">'/'</span><span class="token punctuation">,</span> <span class="token string">''</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> threshold <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">getThreshold</span><span class="token punctuation">(</span>typoPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
    <span class="token keyword">const</span> dictionary <span class="token operator">=</span> Object<span class="token punctuation">.</span><span class="token function">values</span><span class="token punctuation">(</span>paths<span class="token punctuation">)</span>
      <span class="token punctuation">.</span><span class="token function">filter</span><span class="token punctuation">(</span>path <span class="token operator">=></span> Math<span class="token punctuation">.</span><span class="token function">abs</span><span class="token punctuation">(</span>path<span class="token punctuation">.</span>length <span class="token operator">-</span> typoPath<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token operator"><</span> threshold<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span>dictionary<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token keyword">null</span><span class="token punctuation">;</span>

    <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">sortByDistances</span><span class="token punctuation">(</span>typoPath<span class="token punctuation">,</span> dictionary<span class="token punctuation">)</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token template-string"><span class="token string">`/</span><span class="token interpolation"><span class="token interpolation-punctuation punctuation">${</span>dictionary<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token interpolation-punctuation punctuation">}</span></span><span class="token string">`</span></span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>Let me explain what is going in the resolve method. After getting user input we calculating threshold - the maximum length delta between the input and correct value from paths dictionary. In my case I decided to use three for words less than five characters, otherwise 5. This allows filtering dictionary for values that hard to recognize as a typo. Here is the implementation of <code>getThreshold</code> method:</p>
<pre class="language-typescript"><code class="language-typescript">  <span class="token function">getThreshold</span><span class="token punctuation">(</span>path<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>path<span class="token punctuation">.</span>length <span class="token operator"><</span> <span class="token number">5</span><span class="token punctuation">)</span> <span class="token keyword">return</span> <span class="token number">3</span><span class="token punctuation">;</span>

    <span class="token keyword">return</span> <span class="token number">5</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>Then if we still have any possible entry we sort the dictionary by the Levenshtein distance to the input value. After that, we returning the first value from the sorted dictionary. The source code of <code>sortByDistances</code> method:</p>
<pre class="language-typescript"><code class="language-typescript">  <span class="token function">sortByDistances</span><span class="token punctuation">(</span>typoPath<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> dictionary<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> pathsDistance <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span> <span class="token keyword">as</span> <span class="token punctuation">{</span> <span class="token punctuation">[</span>name<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">]</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">}</span><span class="token punctuation">;</span>

    dictionary<span class="token punctuation">.</span><span class="token function">sort</span><span class="token punctuation">(</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> b<span class="token punctuation">)</span> <span class="token operator">=></span> <span class="token punctuation">{</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>a <span class="token keyword">in</span> pathsDistance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathsDistance<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">levenshtein</span><span class="token punctuation">(</span>a<span class="token punctuation">,</span> typoPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>
      <span class="token keyword">if</span> <span class="token punctuation">(</span><span class="token operator">!</span><span class="token punctuation">(</span>b <span class="token keyword">in</span> pathsDistance<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        pathsDistance<span class="token punctuation">[</span>b<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token keyword">this</span><span class="token punctuation">.</span><span class="token function">levenshtein</span><span class="token punctuation">(</span>b<span class="token punctuation">,</span> typoPath<span class="token punctuation">)</span><span class="token punctuation">;</span>
      <span class="token punctuation">}</span>

      <span class="token keyword">return</span> pathsDistance<span class="token punctuation">[</span>a<span class="token punctuation">]</span> <span class="token operator">-</span> pathsDistance<span class="token punctuation">[</span>b<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>We created <code>pathsDistance</code> hashmap to store calculated distances values. By doing that we calculate the distance only once for each item in the dictionary. Then we used that mapping to sort the values. The main magic is stored in <code>levenshtein</code> method that holds the algorithm implementation. I took it from the Angular CLI source code as it the most efficient one written in TypeScript:</p>
<pre class="language-typescript"><code class="language-typescript">  <span class="token function">levenshtein</span><span class="token punctuation">(</span>a<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">,</span> b<span class="token punctuation">:</span> <span class="token builtin">string</span><span class="token punctuation">)</span><span class="token punctuation">:</span> <span class="token builtin">number</span> <span class="token punctuation">{</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>a<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span>length <span class="token operator">==</span> <span class="token number">0</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">return</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">const</span> matrix <span class="token operator">=</span> <span class="token punctuation">[</span><span class="token punctuation">]</span><span class="token punctuation">;</span>

    <span class="token comment">// increment along the first column of each row</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span> <span class="token operator">=</span> <span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// increment each column in the first row</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">0</span><span class="token punctuation">;</span> j <span class="token operator"><=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      matrix<span class="token punctuation">[</span><span class="token number">0</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> j<span class="token punctuation">;</span>
    <span class="token punctuation">}</span>

    <span class="token comment">// Fill in the rest of the matrix</span>
    <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> i <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> i <span class="token operator"><=</span> b<span class="token punctuation">.</span>length<span class="token punctuation">;</span> i<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
      <span class="token keyword">for</span> <span class="token punctuation">(</span><span class="token keyword">let</span> j <span class="token operator">=</span> <span class="token number">1</span><span class="token punctuation">;</span> j <span class="token operator"><=</span> a<span class="token punctuation">.</span>length<span class="token punctuation">;</span> j<span class="token operator">++</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
        <span class="token keyword">if</span> <span class="token punctuation">(</span>b<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span> <span class="token operator">==</span> a<span class="token punctuation">.</span><span class="token function">charAt</span><span class="token punctuation">(</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
          matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> matrix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span> <span class="token keyword">else</span> <span class="token punctuation">{</span>
          matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">=</span> Math<span class="token punctuation">.</span><span class="token function">min</span><span class="token punctuation">(</span>
            matrix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// substitution</span>
            matrix<span class="token punctuation">[</span>i<span class="token punctuation">]</span><span class="token punctuation">[</span>j <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// insertion</span>
            matrix<span class="token punctuation">[</span>i <span class="token operator">-</span> <span class="token number">1</span><span class="token punctuation">]</span><span class="token punctuation">[</span>j<span class="token punctuation">]</span> <span class="token operator">+</span> <span class="token number">1</span><span class="token punctuation">,</span> <span class="token comment">// deletion</span>
          <span class="token punctuation">)</span><span class="token punctuation">;</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>

    <span class="token keyword">return</span> matrix<span class="token punctuation">[</span>b<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">[</span>a<span class="token punctuation">.</span>length<span class="token punctuation">]</span><span class="token punctuation">;</span>
  <span class="token punctuation">}</span>
</code></pre>
<p>We created the matrix of size N by M, where N is the length of the first string and N is the length of the second one. Then we iterating through the matrix and count the number of operations needed. Afterward, the last cell in the matrix will be the Levenshtein distance between strings. And we are done üòé.</p>
<h2>Conclusion</h2>
<p>There is no magic or rocket science to solve real problems that users might face. Using proper algorithms could solve such issues in the elegant and simple way. Next time you start to think about complex solution try to find an existing one that could fit your needs.</p>
<p>If you have any feedback, suggestions and crazy ideas - please leave comments or ping me on <a href="https://twitter.com/bobrov1989" target="_blank" rel="nofollow noreferrer noopener">Twitter</a>. Have fun üòá.</p>
<script defer src="https://cdn.commento.io/js/commento.js" data-css-override="https://bobrov.dev/css/commento.css"></script></body></html>